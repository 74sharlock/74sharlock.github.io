(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1hC4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(n("gDS+")),o=i(n("14Xm")),r=i(n("D3Ub")),a=i(n("svFD"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={components:{leftSide:a.default},data:function(){return{show:!1,contents:[],chapters:{},scrollTop:0,fontSize:18}},computed:{bookId:function(){return this.$route.params.id.split("-")[0]},chapterId:function(){return this.$route.params.id.split("-")[1]},book:function(){return this.$store.books[this.bookId]},chapter:function(){return this.chapters[this.chapterId]||{}},urlPrefix:function(){return"data/"+this.book.source},style:function(){return{fontSize:this.fontSize+"px"}}},methods:{getChapters:function(){var t=this;return(0,r.default)(o.default.mark(function e(){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(t.urlPrefix+"/chapters.json");case 2:n=e.sent,t.chapters=n.data;case 4:case"end":return e.stop()}},e,t)}))()},getContents:function(){var t=this;return(0,r.default)(o.default.mark(function e(){var n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(t.urlPrefix+"/"+t.chapterId+".json");case 2:n=e.sent,t.contents=n.data;case 4:case"end":return e.stop()}},e,t)}))()},scroll:function(t){var e=this,n=t.target;n._timer&&clearTimeout(n._timer),n._timer=setTimeout(function(){e.scrollTop=n.scrollTop;var t={bookId:e.bookId,bookName:e.book.name,chapterId:e.chapterId,chapterName:e.chapter.name,scrollTop:e.scrollTop};localStorage.setItem("autoMark",(0,s.default)(t))},150)},plus:function(){this.fontSize<30&&this.fontSize++},reduce:function(){this.fontSize>12&&this.fontSize--}},mounted:function(){var t=this;return(0,r.default)(o.default.mark(function e(){var n,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.getContents(),e.next=3,t.getChapters();case 3:(n=localStorage.getItem("autoMark"))&&(s=JSON.parse(n)).bookId===t.bookId&&(s.chapterId!==t.chapterId?t.$store.remind||(t.$store.remind=!0,confirm("\u4e0a\u6b21\u9605\u8bfb\u5230["+s.chapterName+"]\u7ae0\u8282\uff0c\u8981\u7ee7\u7eed\u4e0a\u6b21\u7684\u8fdb\u5ea6\u9605\u8bfb\u5417\uff1f")&&t.$router.replace({name:"contents",params:{id:s.bookId+"-"+s.chapterId}})):t.$el.querySelector(".contents").scrollTop=s.scrollTop);case 5:case"end":return e.stop()}},e,t)}))()}}},"2uPE":function(t,e,n){"use strict";n.r(e);var s=n("W9tF"),o=n.n(s);for(var r in s)"default"!==r&&function(t){n.d(e,t,function(){return s[t]})}(r);e.default=o.a},Hw42:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-side",on:{click:function(e){e.stopPropagation(),t.$emit("close")}}},[n("div",{staticClass:"inner"},[t._t("default")],2)])},o=[];s._withStripped=!0,n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o})},PQt7:function(t,e,n){"use strict";n.r(e);var s=n("bGqI"),o=n("TnfY");for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);var a=n("KHd+"),i=Object(a.a)(o.default,s.a,s.b,!1,null,null,null);i.options.__file="app/scripts/views/library/contents.vue",e.default=i.exports},TnfY:function(t,e,n){"use strict";n.r(e);var s=n("1hC4"),o=n.n(s);for(var r in s)"default"!==r&&function(t){n.d(e,t,function(){return s[t]})}(r);e.default=o.a},W9tF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{show:{type:Boolean,default:!1}},watch:{show:function(t){t?this.$nextTick(function(){this.addClass()}):this.$el.classList.remove("active")}},methods:{addClass:function(){var t=this.$el;t.classList.add("show"),setTimeout(function(){t.classList.add("active")},10)}},mounted:function(){var t=this;this.$el.addEventListener("transitionend",function(e){t.show||t.$el.classList.remove("show")},!1)}}},bGqI:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page--contents"},[n("left-side",{attrs:{show:t.show},on:{close:function(e){t.show=!1}}},[n("h4",{staticClass:"book-name"},[t._v(t._s(t.book.name))]),t._v(" "),n("div",{staticClass:"links"},t._l(t.chapters,function(e,s){return n("router-link",{key:s,staticClass:"item",attrs:{"active-class":"active",to:{name:"contents",params:{id:t.bookId+"-"+e.id}},replace:""},on:{click:function(e){t.show=!1}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))]),t._v(" "),n("div",{staticClass:"tools"},[n("div",{staticClass:"menu-btn",on:{click:function(e){t.show=!0}}},[n("i",{staticClass:"material-icons"},[t._v("menu")])]),t._v(" "),n("div",{staticClass:"actions"},[n("div",{staticClass:"menu-btn",on:{click:t.plus}},[t._v("A "),n("sup",[t._v("+")])]),t._v(" "),n("div",{staticClass:"menu-btn",on:{click:t.reduce}},[t._v("A "),n("sup",[t._v("-")])])])]),t._v(" "),n("div",{staticClass:"contents",on:{scroll:function(e){t.scroll(e)}}},[n("h5",{staticClass:"chapter-name"},[t._v(t._s(t.chapter.name))]),t._v(" "),n("div",{staticClass:"content-data",style:t.style},t._l(t.contents,function(e,s){return n("p",{key:s,domProps:{innerHTML:t._s(e)}})}))])],1)},o=[];s._withStripped=!0,n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o})},"gDS+":function(t,e,n){t.exports={default:n("oh+g"),__esModule:!0}},"oh+g":function(t,e,n){var s=n("WEpk"),o=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},svFD:function(t,e,n){"use strict";n.r(e);var s=n("Hw42"),o=n("2uPE");for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);var a=n("KHd+"),i=Object(a.a)(o.default,s.a,s.b,!1,null,null,null);i.options.__file="app/scripts/views/components/left-side.vue",e.default=i.exports}}]);